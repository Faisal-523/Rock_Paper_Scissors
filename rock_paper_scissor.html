<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
    <div class = "teamlabels">
        <span id="playerpoints">Player Score</span>
        <div id="playerscore">0</div>
    </div>
    <div class = "teamlabels">
     <span id="computerpoints">Computer Score</span>
    <div id="computerscore">0</div>
    </div>
    <div id="info">
    </div>
    <div class="keys">
    <div class = "key">
    <button id="rock">ROCK</button>
    </div>
    <div class="key">
    <button id="paper">PAPER</button>
    </div>
    <div class="key">
    <button id="scissors">SCISSORS</button>
    </div>
    </div>
    <div class = "reset">
        <button id="start">RESET</button>
    </div>
  <script>
      let computerSelection;
      let playerSelection;
      let playerScore = parseInt(0);
      let computerScore = parseInt(0);

      function computerplay()
      {
          let r = Math.floor(Math.random()*3);
          let s;

          switch(r){
              case 0:
              s = "rock";
              break;

              case 1:
              s = "paper";
              break;

              case 2:
              s = "scissors";
              break;

              default:
              console.log("computerplay() error");
          }
          return s;
      }

      function playRound(playerSelection, computerSelection)
      {
        console.log(`playerSelection = ${playerSelection}. computerSelection = ${computerSelection}`);

          if(playerSelection == "rock" && computerSelection == "rock"){
            computerscore.textContent = computerScore;
            playerscore.textContent = playerScore;
              //playerScore++;
              return `Its a TIE`;
          }
          else if(playerSelection == "paper" && computerSelection == "paper"){
            computerscore.textContent = computerScore;
            playerscore.textContent = playerScore;
              return `Its a TIE` ;
          }
          else if(playerSelection == "scissors" && computerSelection == "scissors"){
            computerscore.textContent = computerScore;
            playerscore.textContent = playerScore;
              return `Its a TIE.`;
          }
          else if(playerSelection == "scissors" && computerSelection == "paper"){
              playerScore++;
              computerscore.textContent = computerScore;
              playerscore.textContent = playerScore;
              return `You Win.`;
          }
          else if(playerSelection == "paper" && computerSelection == "scissors"){
              computerScore++;
              computerscore.textContent = computerScore;
              playerscore.textContent = playerScore;
              return `Computer Wins.`;
          }
          else if(playerSelection == "rock" && computerSelection == "paper"){
              computerScore++;
              computerscore.textContent = computerScore;
              playerscore.textContent = playerScore;
              return `Computer Wins.`;
          }
          else if(playerSelection == "paper" && computerSelection == "rock"){
              playerScore++;
              computerscore.textContent = computerScore;
              playerscore.textContent = playerScore;
              return `You win.`;
          }
          else if(playerSelection == "rock" && computerSelection == "scissors"){
              playerScore++;
              computerscore.textContent = computerScore;
              playerscore.textContent = playerScore;
              return `You win.`;
          }
          else if(playerSelection == "scissors" && computerSelection == "rock"){
              computerScore++;
              computerscore.textContent = computerScore;
              playerscore.textContent = playerScore;
              return `Computer wins.`;
          }
          else{
              return `Error. playerSelection = ${playerSelection}. computerSelection = ${computerSelection}`;
          }
          
      }

      function checkWinner()
      {
        if(computerScore == 5 && playerScore < 5)
          info.textContent = (`Computer wins the game!! playerScore: ${playerScore}  computerScore: ${computerScore}`);
            else if(playerScore == 5 && computerScore < 5)
            info.textContent = (`You Win the game!! playerScore: ${playerScore}  computerScore: ${computerScore}`);
            else
            {
                info.textContent = (`Its a tie!!! playerScore: ${playerScore}  computerScore: ${computerScore}`);
            }

      }

      function optionSelect(e)
      {
          if(computerScore < 5 && playerScore < 5)
          {
          playerSelection = e.target.id;
          console.log(playerSelection);
          computerSelection = computerplay();
          //console.log(info);
          info.textContent = playRound(playerSelection, computerSelection);
          //roundinfo.setAttribute('id','roundinfo');
          //info.appendChild(roundinfo);
          }
          
          if(computerScore >=5 || playerScore >= 5)
          {
          checkWinner();
          }
      }

      const game = document.querySelector('#start');
      const info = document.querySelector('#info');
      const playerscore = document.querySelector('#playerscore');
      const computerscore = document.querySelector('#computerscore');
      const rock = document.querySelector("#rock");
      const btn = document.querySelectorAll("div.keys");
      
      btn.forEach((btn) => btn.addEventListener('click',optionSelect));

      function newGame(info)
      {
        computerScore= 0;
        playerScore= 0;
        location.reload();

      }

      game.addEventListener('click', newGame);

  </script>
</body>
</html>